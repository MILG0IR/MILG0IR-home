<?php
	#{
	#	"_comment": [
	#		"WARNING: DO NOT MODIFY.",
	#		"THE DETAILS ENTERED HERE WILL EFFECT IT'S DISPLAYED IN THE MENU."
	#	],
	#	"id": "1",
	#	"title": "Messages",
	#	"description": "",
	#	"uri_remote": "./pages/messages.php",
	#	"icon": "data:image/png;base64,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"
	#}
?><?php
	include_once("../db/db_conx.php");
?>
<style>
	div[data-local-page="Messages"] {
		background: var(--main-background);
		position: relative;
		height: 100%;
		width: 100%; }
	div[data-local-page="Messages"] .clickable {
		cursor: pointer; }
	div[data-local-page="Messages"] .timestamp {
		border: solid 1px var(--chat-alert-border);
		background: var(--chat-alert-background);
		color: var(--chat-alert-color);
		padding: 5px 10px 5px 10px;
		border-radius: 25px;
		margin: 0px auto;
		font-size: 10px; }
	/**/
		div[data-local-page="Messages"] .discussions {
			border-right: solid 1px var(--discussions-border);
			background: var(--discussions-background);
			overflow: hidden scroll;
			scrollbar-width: none;
			position: absolute;
			display: block;
			height: 100%;
			width: 100%; }
		div[data-local-page="Messages"] .discussions::-webkit-scrollbar {
				display: none; }
	/* --------------- DISCUSSIONS HEADER --------------- */
		div[data-local-page="Messages"] .discussions-header {
			box-shadow: 0px 3px 2px var(--main-shadow);
			background: var(--discussions-header-background);
			justify-content: center;
			align-items: center;
			position: sticky;
			color: var(--discussions-header-color);
			display: flex;
			top: 0; }
		div[data-local-page="Messages"] .discussions-header .searchbar {
			border: 1px solid var(--discussions-header-search-border);
			background: var(--discussions-header-search-background);
			color: var(--discussions-header-search-color);
			border-radius: 50px;
			align-items: center;
			padding: 0 20px;
			cursor: pointer;
			display: flex;
			height: 40px;
			width: 70%; }
		div[data-local-page="Messages"] .discussions-header .searchbar input {
			font-family: 'Montserrat', sans-serif;
			margin-left: 15px;
			height: 38px;
			border: none;
			width: 100%; }
		div[data-local-page="Messages"] .discussions-header .searchbar input *:-ms-input-placeholder,
		div[data-local-page="Messages"] .discussions-header .searchbar *::-webkit-input-placeholder,
		div[data-local-page="Messages"] .discussions-header .searchbar input *::-moz-placeholder,
		div[data-local-page="Messages"] .discussions-header .searchbar input *:-moz-placeholder {
			color: var(--discussions-header-search-placeholder-color);
		}
	/* --------------- DISCUSSIONS --------------- */
		div[data-local-page="Messages"] .discussions-header,
		div[data-local-page="Messages"] .discussions .discussion {
			border-bottom: solid 1px var(--discussions-border);
			color: var(--main-text);
			align-items: center;
			cursor: pointer;
			display: flex;
			height: 9rem;
			width: 100%; }
		div[data-local-page="Messages"] .discussions .discussion .photo {
			margin-left:20px;
			display: block;
			width: 45px;
			height: 45px;
			background: var(--image-placeholder);
			border-radius: 50px;
			background-position: center;
			background-size: cover;
			background-repeat: no-repeat; }
		div[data-local-page="Messages"] .discussions .discussion .photo .online {
			position: relative;
			top: 30px;
			left: 35px;
			width: 13px;
			height: 13px;
			background: var(--discussions-online);
			border-radius: 13px;
			border: 3px solid var(--discussions-background); }
		div[data-local-page="Messages"] .discussions .discussion .contact {
			height: 43px;
			width:50%;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis; }
		div[data-local-page="Messages"] .discussions .discussion .name {
			margin: 0 0 0 20px;
			font-family:'Montserrat', sans-serif;
			font-size: 11pt; }
		div[data-local-page="Messages"] .discussions .discussion .message {
			margin: 6px 0 0 20px;
			font-family:'Montserrat', sans-serif;
			font-size: 9pt; }
		div[data-local-page="Messages"] .discussions .message-active {
				border-right: solid 5px var(--discussions-active);
				height: 90px; }
	/**/
		div[data-local-page="Messages"] .chat {
			background: var(--main-panel-background);
			transition: left 0.2s ease-in;
			position: absolute;
			display: block;
			height: 100%;
			width: 100%;
			left: 100%;
			top: 0px; }
		div[data-local-page="Messages"] .chat.open {
			left: 0%; }
		div[data-local-page="Messages"] .welcome {
			display: none; }
	/* --------------- WELCOME --------------- */
		div[data-local-page="Messages"] .welcome > .title {
			color: var(--chat-welcome-title)!important;
			color: var(--main-text);
			text-align: center;
			font-weight: bold;
			margin-top: 9rem; }
		div[data-local-page="Messages"] .welcome > .subtitle {
			color: var(--chat-welcome-subtitle);
			margin-top: 4rem;
			text-align: center; }
		div[data-local-page="Messages"] .welcome .grid {
			display: flex;
			margin: 10rem auto;
			width: fit-content; }
		div[data-local-page="Messages"] .welcome .grid .tile {
			background: var(--chat-welcome-tile-background);
			box-shadow: 0px 0px 11px 4px var(--main-shadow);
			border-radius: 3px;
			padding: 1.5rem;
			width: 25rem;
			margin: 1rem; }
		div[data-local-page="Messages"] .welcome .grid .tile > .image {
			max-height: 22rem;
			max-width: 22rem; }
		div[data-local-page="Messages"] .welcome .grid .tile > .title {
			color: var(--chat-welcome-tile-title);
			font-weight: bold; }
		div[data-local-page="Messages"] .welcome .grid .tile > .subtitle {
			color: var(--chat-welcome-tile-subtitle); }
	/* --------------- CHAT HEADER --------------- */
		div[data-local-page="Messages"] .header-chat {
			box-shadow: 0px 3px 2px var(--main-shadow);
			background: var(--main-panel-accent);
			align-items: center;
			color: var(--main-text);
			height: 6rem;
			display:flex; }
		div[data-local-page="Messages"] .chat .header-chat .icon-back {
			margin-left: 30px;
			font-size: 14pt;
			display: inline-block; }
		div[data-local-page="Messages"] .chat .header-chat .icon-more {
			right: 3rem;
			font-size: 14pt;
			display: initial;
			position: absolute; }
		div[data-local-page="Messages"] .chat .header-chat .name {
			margin: 0 0 0 20px;
			text-transform: capitalize;
			font-family:'Montserrat', sans-serif;
			font-size: 13pt; }
		div[data-local-page="Messages"] .chat .header-chat .right {
			position: absolute;
			right: 40px; }
	/* --------------- CHAT --------------- */
		div[data-local-page="Messages"] .chat .messages-chat {
			height: calc(100% - (6rem + 8rem));
			overflow: hidden scroll;
			position: absolute;
			padding: 0rem 2rem 1rem 2rem;
			width: 100%; }
		div[data-local-page="Messages"] .chat .messages-chat::-webkit-scrollbar {
				display: none; }
		div[data-local-page="Messages"] .chat .messages-chat .alert {
			width: fit-content;
			text-align: center;
			color: var(--chat-alert-color);
			background: var(--chat-alert-background);
			border: solid 1px var(--chat-alert-border);
			border-radius: 25px;
			padding: 5px 10px 5px 10px;
			margin: 2rem auto; }
		div[data-local-page="Messages"] .chat .messages-chat .notif {
			width: 100%;
			text-align: center;
			color: var(--chat-notify-color);
			background: var(--chat-notify-background);
			border-radius: 25px;
			position: relative;
			padding: 5px 10px 5px 10px;
			margin: 2rem auto; }
		div[data-local-page="Messages"] .chat .messages-chat .notif::before,
		div[data-local-page="Messages"] .chat .messages-chat .notif::after {
			content: "";
			width: 40%;
			height: 2px;
			background: var(--chat-notify-stripe);
			position: absolute;
			top: 50%; }
		div[data-local-page="Messages"] .chat .messages-chat .notif::before {
			left: 0%; }
		div[data-local-page="Messages"] .chat .messages-chat .notif::after {
			right: 0%; }
		div[data-local-page="Messages"] .chat .messages-chat .message {
			display:flex;
			align-items: center;
			margin-bottom: 8px; }
		div[data-local-page="Messages"] .chat .messages-chat .message .photo {
			display: block;
			width: 45px;
			height: 45px;
			background: var(--image-placeholder);
			border-radius: 50px;
			background-position: center;
			background-size: cover;
			background-repeat: no-repeat; }
		div[data-local-page="Messages"] .chat .messages-chat .message .response {
			float: right;
			margin-right: 0px !important;
			margin-left:auto; }
		div[data-local-page="Messages"] .chat .messages-chat .received .text {
			background: var(--chat-other-bubble);
			color: var(--chat-other-text);
			border-radius: 12px 12px 12px 0px;
			padding: 15px; }
		div[data-local-page="Messages"] .chat .messages-chat .response-time {
			float: right; }
		div[data-local-page="Messages"] .chat .messages-chat .response .text {
			background: var(--chat-user-bubble);
			color: var(--chat-user-text);
			border-radius: 12px 12px 0px 12px;
			padding: 15px; }
		div[data-local-page="Messages"] .chat .messages-chat .received-time {
			float: left; }
		div[data-local-page="Messages"] .chat .messages-chat .received-time,
		div[data-local-page="Messages"] .chat .messages-chat .response-time {
			top: 0.5rem;
			position: relative;
			font-size: 10px;
			color:lightgrey;
		}
	/* --------------- CHAT FOOTER --------------- */
		div[data-local-page="Messages"] .chat .footer {
			box-shadow: 0px -3px 2px var(--main-shadow);
			border-top: 3px solid var(--chat-border);
			background: transparent;
			align-items: center;
			position:absolute;
			display: flex;
			height: 8rem;
			width: 100%;
			bottom: 0; }
		div[data-local-page="Messages"] .chat .footer .emoji {
			display: none; }
		.emoji-menu {
			display: none; }
		.emoji-menu.open {
			box-shadow: 0px 2px 11px 0px var(--main-shadow);
			transform: translatey(-125%);
			position: absolute;
			border-radius: 3px;
			background: white;
			display: block;
			height: 20rem;
			width: 25rem; }
		.emoji-menu::after {
			transform: rotate(45deg);
			border-radius: 3px;
			position: absolute;
			background: white;
			bottom: -5px;
			height: 2rem;
			width: 2rem;
			content: "";
			left: 5px; }
		div[data-local-page="Messages"] .chat .footer .write-message {
			color: var(--chat-input-color);
			border-bottom: solid 1px #ccc;
			background: transparent;
			position: absolute;
			margin-left: 2%;
			padding: 5px;
			height: 5rem;
			border: none;
			width: 85%; }
		div[data-local-page="Messages"] .chat .footer .write-message:focus {
			border-bottom: 1px solid #4285F4;
			box-shadow: 0 1px 0 0 #4285F4; }
		div[data-local-page="Messages"] .chat .footer .send {
			background: var(--chat-send-icon-background);
			color: var(--chat-send-icon-color);
			padding: 15px;
			transform: translate(50%);
			border-radius: 25px;
			text-align: center;
			position: absolute;
			font-size: 14pt;
			display: block;
			height: 50px;
			width: 50px;
			right: 8%; }
		div[data-local-page="Messages"] .chat .footer-chat input *::-webkit-input-placeholder,
		div[data-local-page="Messages"] .chat .footer-chat input *:-ms-input-placeholder,
		div[data-local-page="Messages"] .chat .footer-chat input *::-moz-placeholder,
		div[data-local-page="Messages"] .chat .footer-chat input *:-moz-placeholder {
			color: var(--main-text);
			font-size: 13pt; }
	@media screen and (min-width: 256px) {
	}
	@media screen and (min-width: 512px) {
	}
	@media screen and (min-width: 740px) {
		div[data-local-page="Messages"] .header-chat {
			height: 4.5rem; }
		div[data-local-page="Messages"] .chat .header-chat .icon-more {
			right: 2.25; }
		div[data-local-page="Messages"] .chat .messages-chat {
			padding: 1rem 3rem 1rem 3rem;
			height: calc(100% - (4.5rem + 8rem)); }
		div[data-local-page="Messages"] .chat .footer-chat input *::-webkit-input-placeholder,
		div[data-local-page="Messages"] .chat .footer-chat input *:-ms-input-placeholder,
		div[data-local-page="Messages"] .chat .footer-chat input *::-moz-placeholder,
		div[data-local-page="Messages"] .chat .footer-chat input *:-moz-placeholder {
			color: var(--main-text);
			font-size: 13pt; }
	}
	@media screen and (min-width: 1200px) {
		div[data-local-page="Messages"] .welcome {
			background: var(--main-panel-background);
			overflow: hidden scroll;
			position: absolute;
			display: block;
			height: 100%;
			width: 70%;
			left: 30%;
			top: 0px; }
		div[data-local-page="Messages"] .chat .header-chat .icon-back {
			display: none; }
		div[data-local-page="Messages"] .discussions {
			width: 30%;
			left: unset; }
		div[data-local-page="Messages"] .header-chat {
			height: 9rem }
		div[data-local-page="Messages"] .chat .header-chat .icon-more {
			right: 4.5; }
		div[data-local-page="Messages"] .chat .messages-chat {
			height: calc(100% - (9rem + 8rem)); }
		div[data-local-page="Messages"] .chat {
			display: none;
			width: 70%; }
		div[data-local-page="Messages"] .chat.open {
			display: block;
			left: 30%; }
		div[data-local-page="Messages"] .chat .footer .emoji {
			display: block;
			color: var(--chat-emoji-icon-color);
			transform: translate(-50%);
			margin-left: 5%;
			font-size: 14pt; }
		div[data-local-page="Messages"] .chat .footer .write-message {
			margin-left: 10%;
			width: 80%; }
	}
</style>
<section class="discussions no-select">
	<div class="discussions-header">
		<div class="searchbar">
			<i class="fa fa-search" aria-hidden="true"></i>
			<input type="text" placeholder="Search..." class="searchfriends" onKeyUp="searchfriends()"></input>
		</div>
	</div>
	<?
		$UserID = $userdata['uid'];
		$list_order = array();
		$sql = "SELECT * FROM `users` WHERE `enabled`='1';";
		$query = mysqli_query($db_conx, $sql);
		while($user2 = mysqli_fetch_assoc($query)) {
			if($user2['uid'] != $userdata['uid']) {
				$User2ID = $user2['uid'];
				$msql = "SELECT `message`, `timestamp` FROM `var_messages` WHERE `user1`='$UserID' AND `user2`='$User2ID' OR `user1`='$User2ID' AND `user2`='$UserID' ORDER BY `timestamp` DESC LIMIT 1";
				$result = mysqli_query($db_conx, $msql);
				$message = mysqli_fetch_row($result);

				$users[$i]['uid'] = $user2['uid'];
				$users[$i]['avatar'] = $user2['avatar'];
				$users[$i]['username'] = $user2['username'];
				$users[$i]['firstname'] = $user2['firstname'];
				$users[$i]['surname'] = $user2['surname'];
				$users[$i]['message'] = $message[0];
				($message[1] == null)?$users[$i]['last_messaged'] = "never":$users[$i]['last_messaged'] = $message[1];
				$i++;
			}
		}
		foreach($users as $user) {
			$list_order[] = $user['uid'].preg_replace('/[^0-9]/', '', $user['last_messaged']);
			$discusions[$user['uid'].preg_replace('/[^0-9]/', '', $user['last_messaged'])] = "
				<div class='discussion' id='".$user['uid']."' onClick='getChat(\"".$user['uid']."\");' data-chat-username='".$user['username']."' data-chat-name='".$user['firstname']." ".$user['surname']."'>
					<div class='photo' style='background-image: url(".$user['avatar'].");'><div class='".$user['uid']."-online'></div></div>
					<div class='contact'>
						<p class='name'>".$user['firstname']." ".$user['surname']."</p>
						<p class='message'>".$user['message']."</p>
					</div>
					<div class='timestamp'>".$user['last_messaged']."</div>
				</div>
			";
		}
		arsort($list_order);

		foreach($list_order as $row) {
			echo $discusions[$row];
		}
	?>
</section>
<section class="welcome no-select">
    <h1 class="title">Welcome</h1>
	<h4 class="subtitle">To start, tap a user you would like to talk to on the left.</h4>
	<div class="grid">
		<div class="tile">
			<img class="image" src=""></img>
			<h class="title">Title</h>
			<p class="subtitle">Subtitle</p>
		</div>
		<div class="tile">
			<img class="image" src=""></img>
			<h class="title">Get the group started</h>
			<p class="subtitle">Easily find your friends and get the group started, even without their phone numbers.</p>
		</div>
		<div class="tile">
			<img class="image" src=""></img>
			<h class="title">Title</h>
			<p class="subtitle">Subtitle</p>
		</div>
	</div>
</section>
<section class="chat">
	<div class="header-chat no-select" data-chat-user1="<?php print($userdata['uid'])?>">
		<i class="icon-back fa fa-chevron-left" aria-hidden="true" onClick="$('.chat').removeClass('open');"></i>
		<p class="name"></p>
		<i class="icon-more fa fa-ellipsis-v clickable" aria-hidden="true"></i>
	</div>
	<div class="messages-chat"></div>
	<div class="footer no-select">
		<div class="emoji"><i class="fa fa-smile-o clickable emoji-picker" style="font-size:25pt;" aria-hidden="true"></i></div>
		<input type="text" class="write-message emoji-input" placeholder="Type your message here" onClick="scrolltobottom('.messages-chat', 'smooth')"onkeydown="if (event.keyCode == 13) { sendChat()}"></input>
		<div class="send" onClick="sendChat()"><i class="fa fa-paper-plane-o clickable" aria-hidden="true"></i></div>
	</div>
</section>